//pipeline {
  // agent any 
    //stages{
    node("slave1"){
        stage("Build") {
                echo "build"
                
        }
        stage("Deploy") {                
            script {
                
                   try{
                       
                        //kubernetesDeploy configs: 'ttt.yml', kubeConfig: [path: ''], kubeconfigId: 'k8s-test', secretName: '', ssh: [sshCredentialsId: '*', sshServer: ''], textCredentials: [certificateAuthorityData: '', clientCertificateData: '', clientKeyData: '', serverUrl: 'https://']
                        kubectl apply -f pod.yml
                        echo "try"
                   }catch(error){
                       echo "catch"
                       echo error
                        //kubectl create -f
                   }
                }
            
        }
        stage("Test") {
            //kubectl get pods
            echo "test"
            //curl...
             
            }
        }
    //}
    
//}